<!DOCTYPE HTML>
<html>
	<head>
		<title>SEU Future Network Team</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	</head>
	<body class="is-preload">
		<h1 style="text-align:center">应用列表</h1>
		<ul style="list-style:decimal;left: 50%;position:  relative;width: 300px;margin-left: -150px; font-size:20px">
			<li><a href="ftp://223.3.86.42" id="ftp">FTP服务器</a>&nbsp;&nbsp;&nbsp;<span id="ftp_ip">223.3.86.42</span></li>
			<li><a href="http://223.3.69.57:8000" id="jupyter">Jupyter开发平台</a></li>
		</ul>
		<script>
			var xmlhttp;
			if (window.XMLHttpRequest) {
				xmlhttp = new XMLHttpRequest();
			}else {
				xmlhttp = new ActiveXObject('Microsoft.XMLHTTP');	
			}
			if (xmlhttp != null) {
				today = new Date();
				xmlhttp.onreadystatechange=updateIP;
				xmlhttp.open('GET', 'https://future-network.github.io/address.json?t=' + today.getTime(), true);
				xmlhttp.send(null);
			}
			
			function updateIP(){
				if (xmlhttp.readyState == 4) {
					if(xmlhttp.status == 200) {
						address = eval('(' + xmlhttp.responseText + ')');
						document.getElementById('ftp').href = 'ftp://' + address.ftp;
						document.getElementById('ftp_ip').innerHTML= address.ftp;
						document.getElementById('jupyter').href= 'http://' + address.jupyter + ':8000';
					}
				}
			}
			/*
			var queryParams = location.search
			if(queryParams.indexOf('?v=') == -1) {	
				window.location.href = "http://future-network.github.io?v=1.0";
			}
			*/
		</script>
	</body>
</html>
